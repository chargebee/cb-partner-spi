# cb-tax-provider-spi

Taxes Service Adapter SPI
- API version: 0.3.7

## Overview
Tax Service Adapter is a Service Provider Interface (SPI) that helps Chargebee communicate with API platforms providing the following services:
- Address validation
- Estimating taxes for sales
- Submitting invoices for tax filing

If you have an API that provides the services mentioned above and want Chargebee to be able to integrate with it, you can build an adapter service according to this specification.

## Terminology
Here's a list of terms we've used to describe this specification.
### Merchant 
  Chargebee’s customer who is carrying out the business of selling products. Also known as the Seller. The Seller has one or more Chargebee accounts.
### Chargebee 
 The SaaS which manages subscriptions and revenue operations on behalf of the Merchant. Chargebee makes API calls to the Tax Service Adapter for tax estimation and tax filing of transactions between the Merchant and the Customer.
### Customer 
Merchant’s customer who purchases products from the Merchant. Their customer record(s) and other details are stored within Chargebee under the Merchant’s account.
### Tax Authority
The institution, usually a government, that is responsible for collecting taxes for commercial transactions between Merchants and their Customers.  
### Tax Service Provider
The service which provides tax estimation and tax filing services for merchants.
### Tax Service Adapter 
The SPI for which the spec is defined in this document. This adapter serves the following purposes:
- Translates API requests (as defined in this document) from Chargebee to the request format specified by the Tax Service Provider's API.
- Translates API responses from the Tax Service Provider APIs to the format understood by Chargebee (as defined in this document).
### Authorization
Chargebee uses HTTP header-based authorization for all the API endpoints associated with Tax Service Adapter. We dynamically pass this authorization key in the HTTP header. The parameter that holds this key is found in the JSON object `api_configuration` required for configuring your onboarding on Chargebee's marketplace. In the `api_configuration` object, our [Taxes Service Adapter SPI](https://chargebee.atlassian.net/l/cp/ca5aZ1mA) checks the authorization key parameter from `credential_configuration.id` and creates the HTTP header-based input query parameter for authorization. The `credential_configuration` is an array of objects with an `id` attribute, and the value of `id` is the parameter containing the authorization key.

  Following are the JSON snippets for your reference.

   ```json
      \"api_configuration\": {
          \"api_base_url\": \"https://xyz.abc.com/chargebee\",
          \"credential_configuration\": [ 
            {
              \"id\":\"authorization_key\",
              \"name\": \"Authorization Key\", 
              \"type\": \"text\",
              \"is_sensitive\": true 
            },
            {
              \"id\": \"client_secret\",
              \"name\": \"Client Secret\",
              \"type\": \"text\",
              \"is_sensitive\": true
            }
          ]
        }
   ```    
`\"Authorization\":\"{\"<authorization_key>\":\"test_GykCvTykZFTBqHQAFzjMN9R1Thgdho0Q\"}\"`



*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*


## Requirements

Building the API client library requires:
1. Java 1.8+
2. Maven (3.8.3+)/Gradle (7.2+)

## Installation

To install the API client library to your local Maven repository, simply execute:

```shell
mvn clean install
```

To deploy it to a remote Maven repository instead, configure the settings of the repository and execute:

```shell
mvn clean deploy
```

Refer to the [OSSRH Guide](http://central.sonatype.org/pages/ossrh-guide.html) for more information.

### Maven users

Add this dependency to your project's POM:

```xml
<dependency>
  <groupId>com.chargebee</groupId>
  <artifactId>cb-tax-provider-spi</artifactId>
  <version>0.0.13</version>
  <scope>compile</scope>
</dependency>
```

### Gradle users

Add this dependency to your project's build file:

```groovy
  repositories {
    mavenCentral()     // Needed if the 'cb-tax-provider-spi' jar has been published to maven central.
    mavenLocal()       // Needed if the 'cb-tax-provider-spi' jar has been published to the local maven repo.
  }

  dependencies {
     implementation "com.chargebee:cb-tax-provider-spi:0.0.13"
  }
```

### Others

At first generate the JAR by executing:

```shell
mvn clean package
```

Then manually install the following JARs:

* `target/cb-tax-provider-spi-0.0.13.jar`
* `target/lib/*.jar`

## Getting Started

Please follow the [installation](#installation) instruction and execute the following Java code:

```java

// Import classes:
import org.chargebee.spi.tax.client.ApiClient;
import org.chargebee.spi.tax.client.ApiException;
import org.chargebee.spi.tax.client.Configuration;
import org.chargebee.spi.tax.client.auth.*;
import org.chargebee.spi.tax.client.models.*;
import org.chargebee.spi.tax.api.AddressApi;

public class Example {
  public static void main(String[] args) {
    ApiClient defaultClient = Configuration.getDefaultApiClient();
    defaultClient.setBasePath("https://rest.taxes.provider.com/api/v1");
    
    // Configure API key authorization: Authorization
    ApiKeyAuth Authorization = (ApiKeyAuth) defaultClient.getAuthentication("Authorization");
    Authorization.setApiKey("YOUR API KEY");
    // Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
    //Authorization.setApiKeyPrefix("Token");

    AddressApi apiInstance = new AddressApi(defaultClient);
    String merchantId = "merchantId_example"; // String | Merchant's domain name will be sent by Chargebee
    String traceId = "traceId_example"; // String | Unique id of the request will be sent by Chargebee
    CheckAddressTaxabilityRequest checkAddressTaxabilityRequest = new CheckAddressTaxabilityRequest(); // CheckAddressTaxabilityRequest | 
    try {
      CheckAddressTaxabilityResponse result = apiInstance.checkAddressTaxability(merchantId, traceId, checkAddressTaxabilityRequest);
      System.out.println(result);
    } catch (ApiException e) {
      System.err.println("Exception when calling AddressApi#checkAddressTaxability");
      System.err.println("Status code: " + e.getCode());
      System.err.println("Reason: " + e.getResponseBody());
      System.err.println("Response headers: " + e.getResponseHeaders());
      e.printStackTrace();
    }
  }
}

```

## Documentation for API Endpoints

All URIs are relative to *https://rest.taxes.provider.com/api/v1*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AddressApi* | [**checkAddressTaxability**](docs/AddressApi.md#checkAddressTaxability) | **POST** /address/check-taxability | Check taxability
*AddressApi* | [**validateAddress**](docs/AddressApi.md#validateAddress) | **POST** /address/validate | Address validation
*AuthenticationApi* | [**validateCredentials**](docs/AuthenticationApi.md#validateCredentials) | **POST** /credentials/validate | Validate credentials
*CreditNoteApi* | [**commitCreditNote**](docs/CreditNoteApi.md#commitCreditNote) | **POST** /credit-notes/{creditNoteId}/commit | Commit credit note
*CreditNoteApi* | [**createCreditNote**](docs/CreditNoteApi.md#createCreditNote) | **POST** /credit-notes | Create credit note
*CreditNoteApi* | [**fetchCreditNote**](docs/CreditNoteApi.md#fetchCreditNote) | **GET** /credit-notes/{creditNoteId} | Retrieve credit note
*CreditNoteApi* | [**voidCreditNote**](docs/CreditNoteApi.md#voidCreditNote) | **POST** /credit-notes/{creditNoteId}/void | Void credit note
*HealthApi* | [**fetchHealth**](docs/HealthApi.md#fetchHealth) | **GET** /health | Fetch the health status of the Service Provider.
*InvoiceApi* | [**commitInvoice**](docs/InvoiceApi.md#commitInvoice) | **POST** /invoices/{invoiceId}/commit | Commit Invoice
*InvoiceApi* | [**createInvoice**](docs/InvoiceApi.md#createInvoice) | **POST** /invoices | Create Invoice
*InvoiceApi* | [**fetchInvoice**](docs/InvoiceApi.md#fetchInvoice) | **GET** /invoices/{invoiceId} | Retrieve Invoice
*InvoiceApi* | [**voidInvoice**](docs/InvoiceApi.md#voidInvoice) | **POST** /invoices/{invoiceId}/void | Void Invoice
*TaxEstimateApi* | [**estimateTaxes**](docs/TaxEstimateApi.md#estimateTaxes) | **POST** /tax-estimate | Estimate tax


## Documentation for Models

 - [Address](docs/Address.md)
 - [AddressValidationRequest](docs/AddressValidationRequest.md)
 - [AddressValidationResponse](docs/AddressValidationResponse.md)
 - [AddressValidationStatus](docs/AddressValidationStatus.md)
 - [BasicErrorResponse](docs/BasicErrorResponse.md)
 - [CheckAddressTaxabilityRequest](docs/CheckAddressTaxabilityRequest.md)
 - [CheckAddressTaxabilityResponse](docs/CheckAddressTaxabilityResponse.md)
 - [CredentialStatus](docs/CredentialStatus.md)
 - [CredentialValidationResponse](docs/CredentialValidationResponse.md)
 - [CreditNote](docs/CreditNote.md)
 - [CreditNoteRequest](docs/CreditNoteRequest.md)
 - [CreditNoteType](docs/CreditNoteType.md)
 - [Customer](docs/Customer.md)
 - [CustomerLocationEvidence](docs/CustomerLocationEvidence.md)
 - [DocumentStatus](docs/DocumentStatus.md)
 - [ErrorCode](docs/ErrorCode.md)
 - [FieldItem](docs/FieldItem.md)
 - [HealthCheckComponent](docs/HealthCheckComponent.md)
 - [HealthCheckResponse](docs/HealthCheckResponse.md)
 - [HealthStatus](docs/HealthStatus.md)
 - [Invoice](docs/Invoice.md)
 - [InvoiceLineItem](docs/InvoiceLineItem.md)
 - [InvoiceRequest](docs/InvoiceRequest.md)
 - [Seller](docs/Seller.md)
 - [TaxEstimationLineItemRequest](docs/TaxEstimationLineItemRequest.md)
 - [TaxEstimationRequest](docs/TaxEstimationRequest.md)
 - [TaxEstimationResponse](docs/TaxEstimationResponse.md)
 - [TaxExemptType](docs/TaxExemptType.md)
 - [TaxJurisdiction](docs/TaxJurisdiction.md)
 - [TaxJurisdictionType](docs/TaxJurisdictionType.md)
 - [TaxLineItem](docs/TaxLineItem.md)
 - [ValidationErrorResponse](docs/ValidationErrorResponse.md)
 - [ValidationErrorResponseErrorsInner](docs/ValidationErrorResponseErrorsInner.md)
 - [VoidRequest](docs/VoidRequest.md)


<a id="documentation-for-authorization"></a>
## Documentation for Authorization


Authentication schemes defined for the API:
<a id="Authorization"></a>
### Authorization

- **Type**: API key
- **API key parameter name**: Authorization
- **Location**: HTTP header


## Recommendation

It's recommended to create an instance of `ApiClient` per thread in a multithreaded environment to avoid any potential issues.

## Author



